<!DOCTYPE>
<html lang="en">
<head>
	<title>Happy Happy Prototype</title>
	<meta name="generator" content="TextMate http://macromates.com/">
	<meta name="author" content="Jordan Yaker">

	<!-- Scripts -->
	<script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js" type="text/javascript" charset="utf-8"></script>

	<!-- Stylesheets -->
	<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/960gs/0/960.css" type="text/css" />
	<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/normalize/2.1.0/normalize.css" type="text/css" />
	<link rel="stylesheet" href="assets/css/demo.css" type="text/css" />
</head>
<body>
	<div class="container_16">
		<div class="grid_10">
			<h4 class="title">Editor Contents</h4>
			<fieldset class="prototype top">
				<div id="area" class="testarea" contenteditable="true">
					<p>
						cask conditioning. bitter, bottom fermenting yeast squares lagering 
						wort chiller black malt. ester caramel malt crystal malt mash tun 
						sparge dextrin. racking; alpha acid mash tun mead lager primary 
						fermentation." craft beer dry hopping; alcohol fermentation shelf 
						life mash finishing hops. lager malt extract craft beer carboy all
						-malt, " brewhouse becher grainy."</p>

					<p>
						bottom fermenting yeast grainy sour/acidic ester, double bock/
						dopplebock secondary fermentation abv lauter! dunkle adjunct wort 
						balthazar terminal gravity dextrin reinheitsgebot crystal malt. black 
						malt. brewpub. terminal gravity lagering cask conditioned ale, copper 
						aerobic? balthazar units of bitterness malt mead berliner weisse 
						length krug terminal gravity mash pub? enzymes aau, real ale aerobic 
						final gravity pint glass lauter cask conditioned ale terminal 
						gravity. terminal gravity wheat beer glass cask conditioning; imperial 
						alpha acid berliner weisse. copper carbonation wort chiller berliner 
						weisse top-fermenting yeast, cask conditioning abbey abv.</p>
				</div>
			</fieldset>
		</div>
		<div class="grid_6 area">
			<h4 class="title">Changes</h4>
			<fieldset class="prototype top">
				<div>
					<textarea id="changes" name="changes" class="logging" readonly="readony"></textarea>
				</div>
			</fieldset>
		</div>
		<div class="fix"></div>
		<div class="grid_16 console">
			<h4 class="title">Console</h4>
			<fieldset class="prototype bottom">
				<div>
					<textarea id="console" name="console" class="logging" readonly="readony"></textarea>
				</div>	
			</fieldset>
		</div>
	</div>
	
	<!-- Scripts -->
	<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="http://rangy.googlecode.com/svn/trunk/currentrelease/rangy-core.js" type="text/javascript" charset="utf-8"></script>
	<script src="http://rangy.googlecode.com/svn/trunk/currentrelease/rangy-cssclassapplier.js" type="text/javascript" charset="utf-8"></script>
	<script src="http://rangy.googlecode.com/svn/trunk/currentrelease/rangy-selectionsaverestore.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">var CKEDITOR_BASEPATH = 'scripts/ckeditor/';</script>
	<script src="scripts/ice/ice.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="scripts/ckeditor/ckeditor.js" type="text/javascript" charset="utf-8"></script>
	<<script type="text/javascript" charset="utf-8">
		(function(){
			CKEDITOR.on('inline', function(e){
				var el = e.data.element.$, tracker = new ice.InlineChangeEditor({
		    	element: el,
		      handleEvents: true,
		      currentUser: { id: 1, name: 'Master Tester' }
		    });

		    tracker.startTracking();
			});
		})();
	</script>>
	<script type="text/javascript" charset="utf-8">
		(function(){
			var makeLoggable = function(source, functionName, fn){
				var _source = source, _name = functionName, 
					_super = fn;

				return function(){
					var args = Array.prototype.slice.call(arguments),
						timestamp = new Date().toLocaleString();
						
					var message = timestamp + ': ' + _source + '.' + _name + '(\'' + args[0] + '\')';	
					message += '\r\n';
						
						
					var output = $('#console'), content = output.val() + message;	
					output.val(content);
					output.scrollTop(output[0].scrollHeight - output.height());

					return _super.apply(this, arguments);
				};
			};

			// Hack and log all calls to the event invocations.
			var cke = CKEDITOR || window.CKEDITOR;
			cke.fire = makeLoggable('CKEDITOR', 'fire', cke.fire);
			
			var editor = cke.inline('area');
			editor.fire = makeLoggable('editor', 'fire', editor.fire);
		})();
	</script>
</body>
</html>
